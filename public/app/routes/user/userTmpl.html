<nav-template></nav-template>

<div style="background-color: white" class="row">
  <div class="user-container col s6">
    <div class="row">
      <img class="col user-pic" src="http://www.flowjo.com/wp-content/plugins/all-in-one-seo-pack/images/default-user-image.png" />
      <div class="user-firstName col">
        <h3>{{user.name.first}} {{user.name.last}}</h3>
        <h4>{{user.displayName}}</h4>
      </div>
    </div>

    <div class="user-info col">
      <div>
        <h5 class="underline">Email </h5>
      </div>
      <div>
        <h6>{{user.email}}</h6>
      </div>
      <div>
        <h5 class="underline"> Phone</h5>
      </div>
      <div>
        <h6>{{user.phone}}</h6>
      </div>
      <div>
        <h5 class="underline">Address</h5>
      </div>
      <div>
        <h6>{{user.address.street}} {{user.address.aptSuite}}</h6>
      </div>
      <div>
        <h6>{{user.address.city}} {{user.address.state}} {{user.address.zip}}</h6>
      </div>
      <br>
      <button href="#editUserModal" class="edit-profile" modal> Edit Profile </button>
    </div>
  </div>

  <div class="appointment-header "> Appointments </div>
  <div class="user-appointment-box s6 col ">
    <div class="row app-box " ng-repeat="appointment in appointments ">
      <h5 class="app-bus-name ">{{appointment.businessName}} </h5>
      <div class="app-inside-container ">
        <div class="app-box-info ">
          <h6 class="app-size ">Service: {{appointment.service}}</h6>
          <h6 class="app-size "> Date: {{appointment.startTime | date: 'short'}} </h6>
          <h6 class="app-size "> Appointment Length: {{appointment.timePeriod}}</h6>
          <div>
            <h6 class="app-size "> Notes: {{appointment.note}}</h6>
          </div>
        </div>

        <button class="cancel-button" ng-click="deleteAppointment(appointment._id)">Cancel appointment</button>

      </div>
    </div>
    <a href="#/search" class="add-new-app">+ Add new appointment
      </a>
  </div>
</div>

<br>
<h4 class="favorites-header"> Favorites </h4>
<br>
<div class="row ">
  <div class="s10 col ">
    <div class="row ">
      <div class="col s12 m6 l3 " ng-repeat="b in user.favorites ">
        <business-preview></business-preview>
      </div>
    </div>
  </div>
</div>


<form id="editUserModal" class="modal" ng-submit="submitNewUser(user)">
  <div class="modal-content input-field" style="margin-top: 0px;">
    <h4>Edit Information</h4>
    <div class="row">
      <form class="col s12">
        <div class="row">
          <div class="input-field col s6">
            <input ng-model="user.name.first" id="first_name" type="text" class="validate">
            <label for="first_name">First Name</label>
          </div>
          <div class="input-field col s6">
            <input ng-model="user.name.last" id="last_name" type="text" class="validate">
            <label for="last_name">Last Name</label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s6">
            <input ng-model="user.email" id="email" type="email" class="validate">
            <label for="email">Email</label>
          </div>
          <div class="input-field col s6">
            <input ng-model="user.phone" id="phone" type="text" class="validate">
            <label for="phone">Phone</label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s9">
            <input ng-model="user.address.street" id="street" type="text" class="validate">
            <label for="street">Street</label>
          </div>
          <div class="input-field col s3">
            <input ng-model="user.address.aptSuite" id="suite" type="text" class="validate">
            <label for="suite">Apt/Suite</label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s4">
            <input ng-model="user.address.city" id="city" type="text" class="validate">
            <label for="city">City</label>
          </div>
          <div class="input-field col s4">
            <input ng-model="user.address.state" id="state" type="text" class="validate">
            <label for="state">State</label>
          </div>
          <div class="input-field col s4">
            <input ng-model="user.address.zip" id="zip" type="text" class="validate">
            <label for="zip">Zip</label>
          </div>
        </div>
      </form>
    </div>

    <div class="modal-footer">
      <button class="modal-action modal-close waves-effect waves-green btn-flat" type="submit">Submit<i class="material-icons right">send</i></button>
    </div>
</form>


<footer-dir></footer-dir>
