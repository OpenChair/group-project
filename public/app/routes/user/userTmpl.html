<nav-template></nav-template>

<div style="background-color: white" class="row">
  <div class="user-container col s6">
    <div class="row">
      <img class="col user-pic" src="http://www.flowjo.com/wp-content/plugins/all-in-one-seo-pack/images/default-user-image.png" />
      <div class="user-firstName col">
        <h3>{{user.name.first}} {{user.name.last}}</h3>
        <h4>{{user.displayName}}</h4>
      </div>
    </div>

    <div class="user-info col">
      <div>
        <h5 class="underline">Email </h5>
      </div>
      <div>
        <h6>{{user.email}}</h6>
      </div>
      <div>
        <h5 class="underline"> Phone</h5>
      </div>
      <div>
        <h6>{{user.phone}}</h6>
      </div>
      <div>
        <h5 class="underline">Address</h5>
      </div>
      <div>
        <h6>{{user.address.street}} {{user.address.aptSuite}}</h6>
      </div>
      <div>
        <h6>{{user.address.city}} {{user.address.state}} {{user.address.zip}}</h6>
      </div>
      <br>
      <button href="#updateUserModal" class="edit-profile" modal> Edit Profile </button>
    </div>
  </div>

  <div class="appointment-header "> Appointments </div>
  <div class="user-appointment-box s6 col ">
    <div class="row app-box " ng-repeat="appointment in appointments ">
      <h5 class="app-bus-name ">{{appointment.businessName}} </h5>
      <div class="app-inside-container ">
        <div class="app-box-info ">
          <h6 class="app-size ">Service: {{appointment.service}}</h6>
          <h6 class="app-size "> Date: {{appointment.startTime | date: 'short'}} </h6>
          <h6 class="app-size "> Appointment Length: {{appointment.timePeriod}}</h6>
          <div>
            <h6 class="app-size "> Notes: {{appointment.note}}</h6>
          </div>
        </div>

        <button class="cancel-button" ng-click="deleteAppointment(appointment._id)">Cancel appointment</button>

      </div>
    </div>
    <a href="#/search" class="add-new-app">+ Find new appointment
      </a>
  </div>
</div>

<br>
<h4 class="favorites-header"> Favorites </h4>
<br>
<div class="row ">
  <div class="s10 col ">
    <div class="row ">
      <div class="col s12 m6 l3 " ng-repeat="b in user.favorites ">
        <business-preview></business-preview>
      </div>
    </div>
  </div>
</div>

<footer-dir></footer-dir>

<form id="updateUserModal" class="modal" ng-submit="updateUser(user)">
  <div class="modal-content input-field" style="margin-top: 0px;">
    <h4>Edit Information</h4>
    <div class="row">
      <div class="col s12">
        <div class="row">
          <div class="input-field col s6">
            <input ng-model="user.name.first" id="first_name" type="text" class="validate">
            <label for="first_name">First Name</label>
          </div>
          <div class="input-field col s6">
            <input ng-model="user.name.last" id="last_name" type="text" class="validate">
            <label for="last_name">Last Name</label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s6">
            <input ng-model="user.email" id="email" type="email" class="validate">
            <label for="email">Email</label>
          </div>
          <div class="input-field col s6">
            <input ng-model="user.phone" id="phone" type="text" class="validate">
            <label for="phone">Phone</label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s9">
            <input ng-model="user.address.street" id="street" type="text" class="validate">
            <label for="street">Street</label>
          </div>
          <div class="input-field col s3">
            <input ng-model="user.address.aptSuite" id="suite" type="text" class="validate">
            <label for="suite">Apt/Suite</label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s4">
            <input ng-model="user.address.city" id="city" type="text" class="validate">
            <label for="city">City</label>
          </div>
          <div class="input-field col s4">
            <label for="state"></label>
            <select class="browser-default" ng-model="user.address.state" id="state" type="text">
              <option value="" disabled selected>State</option>
										<option value="1">AL</option>
										<option value="2">AK</option>
										<option value="3">AZ</option>
										<option value="4">AR</option>
										<option value="5">CA</option>
										<option value="6">CO</option>
										<option value="7">CT</option>
										<option value="8">DE</option>
										<option value="9">FL</option>
										<option value="10">GA</option>
										<option value="11">HI</option>
										<option value="12">ID</option>
										<option value="13">IL</option>
										<option value="14">IN</option>
										<option value="15">IA</option>
										<option value="16">KS</option>
										<option value="17">KY </option>
										<option value="18">LA </option>
										<option value="19">ME</option>
										<option value="20">MD</option>
										<option value="21">MA</option>
										<option value="22">MI</option>
										<option value="23">MN</option>
										<option value="24">MS</option>
										<option value="25">MO</option>
										<option value="26">MT</option>
										<option value="27">NE</option>
										<option value="28">NV</option>
										<option value="29">NH</option>
										<option value="30">NJ</option>
										<option value="31">NM</option>
										<option value="32">NY</option>
										<option value="33">NC</option>
										<option value="34">ND</option>
										<option value="35">OH</option>
										<option value="36">OK</option>
										<option value="37">OR</option>
										<option value="38">PA</option>
										<option value="39">RI</option>
										<option value="40">SC</option>
										<option value="41">SD</option>
										<option value="42">TN</option>
										<option value="43">TX</option>
										<option value="44">UT</option>
										<option value="45">VT</option>
										<option value="46">VA</option>
										<option value="47">WA</option>
										<option value="48">WV</option>
										<option value="49">WI</option>
										<option value="50">WY</option>
										
										</select>
          </div>
          <div class="input-field col s4">
            <input ng-model="user.address.zip" id="zip" type="text" class="validate">
            <label for="zip">Zip</label>
          </div>
        </div>
      </div>
    </div>

    <div class="modal-footer">
      <button class="modal-action modal-close waves-effect waves-green btn-flat" type="submit">Submit<i class="material-icons right">send</i></button>
    </div>
</form>
